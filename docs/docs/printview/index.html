<!doctype html>
<html lang="es" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.88.1" /><link rel="canonical" type="text/html" href="https://lmorillas.github.io/recursos-daw/docs/">
<link rel="alternate" type="application/rss&#43;xml" href="https://lmorillas.github.io/recursos-daw/docs/index.xml">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/recursos-daw/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/recursos-daw/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/recursos-daw/favicons/android-192x192.png" sizes="192x192">

<title>Recursos | Despliegue de  Aplicaciones Web</title>


  
  <meta name="description" content="


Resursos de ampliación



">
<meta property="og:title" content="Recursos" />
<meta property="og:description" content="Documentación Módulo DAW" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://lmorillas.github.io/recursos-daw/docs/" /><meta property="og:site_name" content="Despliegue de  Aplicaciones Web" />

<meta itemprop="name" content="Recursos">
<meta itemprop="description" content="Documentación Módulo DAW"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Recursos"/>
<meta name="twitter:description" content="Documentación Módulo DAW"/>




<link rel="preload" href="/recursos-daw/scss/main.min.bd5285b713d3061549a6bfd34e5f4ec6775ede36672a3088260f0d420050647f.css" as="style">
<link href="/recursos-daw/scss/main.min.bd5285b713d3061549a6bfd34e5f4ec6775ede36672a3088260f0d420050647f.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>










  </head>
  <body class="td-section">
    
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          
          <main class="col p-md-3" role="main">
            




<div class="td-content">






<h1 class="title">Recursos</h1>






<div class="content">
      

<div class="pageinfo pageinfo-primary">
<p>Resursos de ampliación</p>

</div>


</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-e497a357a862a5593c92eae5b1e0fba3">1 - Presentación</h1>
    <div class="lead">Presentación del sitio</div>
	

<div class="pageinfo pageinfo-primary">
<p>En construcción</p>

</div>

<h2 id="objetivo">Objetivo</h2>
<p>Esta web recoge recursos adicionales al curso de DAW de <a href="https://www.adistanciafparagon.es/course/view.php?id=113">https://www.adistanciafparagon.es</a></p>
<!--
## Marco legal
[Currículo del título](http://www.boa.aragon.es/cgi-bin/EBOA/BRSCGI?CMD=VEROBJ&MLKOB=612152800202)


## Objetivos

## Plan general del curso


## Valoración/Evaluación
-->

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-37e29646634291a215550c5d4615230d">2 - Webs basadas en PHP &#43; BBDD</h1>
    <div class="lead">Despliegue de webs escritas en php con acceso a bases de datos.</div>
	

<div class="pageinfo pageinfo-primary">
<h2 id="objetivos">Objetivos</h2>
<ul>
<li>Instalar los requisitos (servidor web + php + bbdd) en un servidor</li>
<li>Identificar los requisitos de la web a instalar</li>
<li>Descargar e instalar un CMS Wordpress</li>
</ul>

</div>


</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-3bfa0bd5ae8d16b4f1ced4992fa10c63">2.1 - Instalación base</h1>
    <div class="lead">Introducción a entornos lamp</div>
	

<div class="pageinfo pageinfo-primary">
<ul>
<li>Instalación entoro LAMP</li>
<li><a href="https://es.wikipedia.org/wiki/LAMP">https://es.wikipedia.org/wiki/LAMP</a></li>
</ul>

</div>

<p>El acrónimo <strong>LAMP</strong> se refiere a un entorno configurado en un servidor que nos posibilita servir aplicaciones web escritas en PHP.</p>
<p>Para ello usamos las siguientes tecnologías:</p>
<ul>
<li><code>Linux</code>, sistema operativo;</li>
<li><code>Apache</code> o <code>nginx</code>, servidor web;</li>
<li><code>MySQL</code>, <code>MariaDB</code>, gestores de bases de datos;</li>
<li><code>PHP</code>, lenguaje de programación.</li>
</ul>
<h2 id="instalación-base">Instalación base</h2>
<h3 id="partimos-de-una-configuración-base">Partimos de una configuración base</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">vagrant init bento/ubuntu-20.04
</code></pre></div><p>Edita el Vagrantile para hacer el forward del puerto 8080 al puerto 80</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#000">Vagrant</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">configure</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">do</span> <span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">|</span>
  <span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">vm</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">box</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;bento/ubuntu-20.04&#34;</span>
  <span style="color:#000">config</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">vm</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">network</span> <span style="color:#4e9a06">&#34;forwarded_port&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">guest</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">80</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">host</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">8080</span>
<span style="color:#204a87;font-weight:bold">end</span>
</code></pre></div><p>Levanta y actualiza el sistema</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">vagrant up
vagrant ssh
sudo apt update
</code></pre></div><h3 id="mariadb">mariadb</h3>
<p>Instalación del servidor de base de datos</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install mariadb-server
</code></pre></div><h3 id="apache-y-php">Apache y PHP</h3>
<p>Instalación de apache2 y del módulo que permite que apache2 interprete PHP (apache2 hará el papel de servidor web y de servidor de aplicaciones).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install apache2 libapache2-mod-php php php-mysql
</code></pre></div><h3 id="configuración-de-php">Configuración de PHP</h3>
<p>Archivos de configuración de PHP (según versión. En este caso 7.4):</p>
<ul>
<li><code>/etc/php/7.4/cli</code>: Configuración de php para <code>php7.4-cli</code> (ejecución de php desde la línea de comandos)</li>
<li><code>/etc/php/7.4/apache2</code>: Configuración de php para apache2 usado como módulo</li>
<li><code>/etc/php/7.4/apache2/php.ini</code>: Configuración de php</li>
<li><code>/etc/php/7.4/fpm</code>: Configuración de php para php-fpm</li>
<li><code>/etc/php/7.4/mods-available</code>: Módulos disponibles de php</li>
</ul>
<h3 id="comprobación">Comprobación</h3>
<p>Creamos un fichero <code>info.php</code> en el <code>documentRoot</code> (<code>/var/www/html</code> ?) con el siguiente contenido:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#ce5c00;font-weight:bold">&lt;?</span><span style="color:#000">php</span> <span style="color:#000">phpinfo</span><span style="color:#000;font-weight:bold">();</span> <span style="color:#8f5902;font-style:italic">?&gt;</span><span style="color:#a40000">
</span></code></pre></div><p>Accedemos con el navegador. Si no aparece la información de php y vemos el contenido que hemos escrito, es que no se ha instalado correctamente. Tendrías que ver algo similar a esto:</p>
<p><img src="/Resources/phpinfo.png" alt="phpinfo"></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f4ce39b3f794dc0bc72d636b90f41868">2.2 - Instalación de WordPress</h1>
    
	

<div class="pageinfo pageinfo-primary">
<p>Primera parte. Guión instalación CMS Wordpress</p>

</div>

<h2 id="qué-es">Qué es?</h2>
<ul>
<li><a href="https://es.wordpress.org/">WordPress</a></li>
<li>Busca más información sobre este CMS</li>
</ul>
<h2 id="requisitos-para-la-instalación">Requisitos para la instalación</h2>
<ul>
<li><a href="https://es.wordpress.org/about/requirements/">https://es.wordpress.org/about/requirements/</a></li>
</ul>
<p>Anota los requisitos necesarios: servidor web, base de datos, etc.</p>
<h2 id="instalación">Instalación</h2>
<p>Esta es la guía oficial de instalación de WP</p>
<ul>
<li><a href="https://es.wordpress.org/download/#download-install">https://es.wordpress.org/download/#download-install</a></li>
</ul>
<p>Aquí tienes documentación más detallada</p>
<ul>
<li><a href="https://wordpress.org/support/article/how-to-install-wordpress/">https://wordpress.org/support/article/how-to-install-wordpress/</a></li>
<li><a href="https://codex.wordpress.org/es:Instalando_WordPress">https://codex.wordpress.org/es:Instalando_WordPress</a></li>
</ul>
<h2 id="manos-a-la-obra">Manos a la obra</h2>
<p>¿Serías capaz de instalarlo en tu propio servidor con estas instrucciones? Usa el que has creado en la sección anterior (Vagrant con Apache, MariaDB y PHP)</p>
<p>Inténtalo y consulta tus problemas en el foro del curso.</p>
<p>Mäs adelante mostraremos una guía de instalación de WP paso a paso.</p>
<h2 id="un-ejemplo-de-instalación">Un ejemplo de instalación</h2>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/muAKPiPqW6g" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ffe220480dbe841970e91284c1a9e59a">2.3 - Instalación de Drupal</h1>
    
	

<div class="pageinfo pageinfo-primary">
<h2 id="objetivo">Objetivo:</h2>
<p>En esta tarea vas a instalar Drupal, un gestor de contenidos escrito en php.</p>
<p>La tarea consiste en instalar el gestor de contenidos y documentar el proceso de instalación</p>

</div>

<h2 id="conocimiento-previo">Conocimiento previo</h2>
<p>Para realizar la tarea necesitas:</p>
<ul>
<li>Servidor Ubuntu 20.04 configurado con vagrant para conexión ssh (ya lo hiciste en la tarea de wordpress)</li>
<li>Saber qué es <strong>Drupal</strong>. Busca información en internet sobre CMS Drupal (qué es, url principal del sitio, dónde está la documentación, etc).</li>
<li>Tener una cuenta en github. Si no tienes una cuenta, ve a  <a href="https://github.com/">https://github.com/</a> y crea una cuenta. Busca información sobre qué es github y git.</li>
<li>Tener unas nociones elementales de git.</li>
</ul>
<h2 id="qué-tengo-que-hacer">¿Qué tengo que hacer?</h2>
<ul>
<li>Instalar Drupal en el mismo servidor en el que instalaste Wordpress.</li>
<li>La dirección de drupal será drupal.miservidor.com (configuralo en tu archivo hosts)</li>
<li>Para los pasos de la instalación sigue las <a href="https://www.drupal.org/docs/user_guide/en/installation-chapter.html">instrucciones de la web oficial de drupal</a> o <a href="https://comoinstalar.me/como-instalar-drupal-en-ubuntu-20-04-lts/">estas por ejemplo</a>.</li>
<li>Documenta todo lo que hagas y escríbelo en un archivo markdown. Aquí tienes la <a href="https://docs.github.com/es/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">sintaxis básica</a> . El archivo se llamara instalacion_drupal.md . Añade unas capturas de pantalla. Si usas un editor como Visual Studio, podrás previsualizar el documento en html.</li>
<li>Crea un proyecto en github llamado instalaciones-daw. Y en una carpeta llamada drupal, coloca el texto y las imágenes de tu tutorial</li>
<li>Como justificante de tu tarea tendrás que subir la dirección de tu repositorio instalaciones-daw de github.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-92c27ea962011595550955f7c41b869a">3 - Webs basadas en Python</h1>
    <div class="lead">Despliegue de webs escritas en python con acceso a bases de datos y cache.</div>
	

<div class="pageinfo pageinfo-primary">
<h2 id="objetivos">Objetivos</h2>
<ul>
<li>Instalar los requisitos (servidor web + python + bbdd + cache) en un servidor</li>
<li>Identificar los requisitos de la web a instalar</li>
<li>Descargar e instalar un CMS Wordpress</li>
</ul>

</div>

<p>Python es otro lenguaje de programación muy popular. Muchas webs y aplicaciones están programadas en Python. Tenemos que aprender cómo se instala un web escrita en python.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ee01900dce7b933c36476788befc05ef">3.1 - Entorno básico con mod_wsgi</h1>
    
	

<div class="pageinfo pageinfo-primary">
<h2 id="objetivo">Objetivo</h2>
<p>Configurar la aplicación <a href="https://github.com/josedom24/flask_temperaturas">flask_temperaturas</a> para que sea servida con apache2 + mod_wsgi. Explica los pasos más importantes y entrega una prueba de funcionamiento.</p>
<ul>
<li>Documentación original: <a href="https://fp.josedomingo.org/iaw2122/u03/modwsgi.html">https://fp.josedomingo.org/iaw2122/u03/modwsgi.html</a></li>
</ul>

</div>

<h2 id="pasos-instalación">Pasos instalación</h2>
<p>Levanta una nueva máquina vagrant Ubuntu-20.04 e instala apache2, git, python3 y python3-venv</p>
<h3 id="clonar-el-repositorio">Clonar el repositorio</h3>
<p>En <strong>/home/vagrant/</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git clone https://github.com/josedom24/flask_temperaturas.git
</code></pre></div><h3 id="prepara-máquina-virtual-para-entornos-de-python">Prepara máquina virtual para entornos de python</h3>
<p>En <strong>/home/vagrant/</strong> ejecuta:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ python3 -m venv env   <span style="color:#8f5902;font-style:italic"># Crea un entorno virtual</span>
$ <span style="color:#204a87">source</span> env/bin/activate  <span style="color:#8f5902;font-style:italic"># Activa el entorno virtual</span>
$ <span style="color:#204a87">cd</span> flask_temperaturas
$ pip install -r requirements.txt  <span style="color:#8f5902;font-style:italic"># Instala dependencias</span>
</code></pre></div><h3 id="instala-y-configura-el-módulo-wsgi-para-apache2">Instala y configura el módulo wsgi para apache2</h3>
<pre><code>apt install libapache2-mod-wsgi-py3
</code></pre>
<p>Activa el módulo wsgi
Nuestra aplicación se encuentra en <code>/home/vagrant/flask_temperaturas</code>.
Nuestro entorno virtual está en <code>/home/vagrant/env</code>.</p>
<h3 id="creación-del-fichero-wsgi">Creación del fichero wsgi</h3>
<p>Lo primero que vamos a hacer es crear el fichero WSGI, que vamos a llamar <code>wsgi.py</code> estará en <code>/home/vagrant/flask_temperaturas</code> y tendrá el siguiente contenido:</p>
<pre><code>from app import app as application
</code></pre>
<p>Explicación:</p>
<ul>
<li>El primer <code>app</code> corresponde con el nombre del módulo, es decir del fichero del programa, en nuestro caso se llama <code>app.py</code>.</li>
<li>El segundo <code>app</code> corresponde a la aplicación flask creada en <code>app.py</code>:  <code>app = Flask(__name__)</code>.</li>
<li>Importamos la aplicación flask, pero la llamamos <code>application</code> necesario para que el servidor web pueda enviarle peticiones.</li>
</ul>
<h3 id="configuración-de-apache2">Configuración de apache2</h3>
<p>Yo he utilizado el virtualhost por defecto, si usamos otro virtualhost esta configuración ira en el fichero correspondiente:</p>
<pre tabindex="0"><code class="language-apache2" data-lang="apache2">    WSGIDaemonProcess flask_temp python-path=/home/vagrant/flask_temperaturas:/home/vagrant/env/lib/python3.9/site-packages
    WSGIProcessGroup flask_temp
    WSGIScriptAlias / /home/vagrant/flask_temperaturas/wsgi.py process-group=flask_temp
    &lt;Directory /home/vagrant/flask_temperaturas&gt;
            Require all granted
    &lt;/Directory&gt;
</code></pre><p>Vamos a explicar la configuración:</p>
<ul>
<li>El <code>DocumentRoot</code>se indica el directorio donde está la aplicación. Realmente el servidor web siempre va a llamar al fichero WSGI <code>wsgi.py</code>, pero el DocumentRoot es necesario por si hay contenido estático.</li>
<li>La directiva <code>WSGIDaemonProcess</code>: Se define un grupo de procesos que se van a encargar de ejecutar la aplicación (servidor de aplicaciones). A estos procesos se le ponen un nombre (<code>flask_temp</code>) y se indica los directorios donde se encuentran la aplicación y los paquetes necesarios (<code>python-path</code>), como puedes observar se pone el directorio donde esta la aplicación y el directorio donde se encuentran los paquetes en el entorno virtual, separados por dos puntos.</li>
<li><code>WSGIProcessGroup</code>: Nos permite agrupar procesos. Se pone el misimo nombre que hemos definido en la directiva anterior.</li>
<li>La directiva <code>WSGIScriptAlias</code> nos permite indicar que programa se va a ejecutar (el fichero WSGI: <code>/home/debian/flask_temperaturas/wsgi.py</code>) cuando se haga una petición a la url <code>/</code> y que proceso lo va a ejecutar.</li>
</ul>
<p>Reinicia el servicio web y prueba el funcionamiento. Si te da algún erro 500 puedes ver los errores, en <code>/var/log/apache2/error.log</code>.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-72bd1e122949e95c5db2150f81f31746">4 - Soluciones a ejercicios</h1>
    <div class="lead">Soluciones a ejercicios del curso.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-e9b4722b8fbe9a1116e74241733948e1">4.1 - Ejercicio 1 Evaluación</h1>
    
	

<div class="pageinfo pageinfo-primary">
<p>Una propuesta de solución al ejercicio de la primera evaluación:
<a href="https://www.adistanciafparagon.es/mod/assign/view.php?id=46025">https://www.adistanciafparagon.es/mod/assign/view.php?id=46025</a></p>

</div>

<h2 id="objetivo">Objetivo</h2>
<p>Configuración de un servidor apache para que muestre las páginas web de 4 empresas</p>
<h2 id="descripción">Descripción</h2>
<p>Nos han encargado poner en marcha las webs de 4 empresas. Se trata de seguir todo el proceso necesario para que las webs sean accesibles en nuestro servidor:</p>
<ul>
<li>Configuración de virtualbox/vagrant</li>
<li>Instalación y configuración de apache</li>
</ul>
<p>Tienes los archivos de cada web en los archivos adicionales de la actividad.</p>
<p>Sigue todos los pasos necesarios para poner en funcionamiento las sitios web. Configura también el archivo hosts para simular los nombres de dominio.</p>
<ul>
<li>Cada web tendrá que verse con la url del nombre (zip) y con la url con www</li>
<li>Por defecto no se permitirá el listado de archivos o ficheros de las carpetas del servidor.</li>
<li>En la web relojesvex.com habrá un directorio /privado que será privado para el usuario admin con password vexReloj .</li>
<li>En la web relojesvex.com crea un directorio /fotos en el que se podrán colgar fotos y ver el listado de archivos que hay en esa carpeta.</li>
<li>Crea un index en la raiz de apache (localhost) que muestre los enlaces a los 4 sitios web.</li>
<li>Cada sitio tendrá unos log de acceso y error específicos para poder depurar más fácil los errores.</li>
</ul>
<h2 id="solución">Solución</h2>
<h3 id="preparación-del-entorno-en-el-host">Preparación del entorno en el host</h3>
<p><strong>Preparación de Vagrant/Virtualbox con Ubuntu 20.04</strong></p>
<pre tabindex="0"><code>$ vagrant init bento/ubuntu-20.04
</code></pre><p><strong>Vagrantfile</strong></p>
<pre tabindex="0"><code>Vagrant.configure(&quot;2&quot;) do |config|
  config.vm.box = &quot;bento/ubuntu-20.04&quot;
  config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080, host_ip: &quot;127.0.0.1&quot;
end
</code></pre><p><strong>Copiar archivos de las webs</strong>
Descargar y descomprimir:</p>
<pre tabindex="0"><code>.
├── Vagrantfile
└── webs
    ├── airspace.com
    ├── hugoflotts.com
    ├── jonathon.com
    └── relojesvex.com
</code></pre><p><strong>Editar archivo <em>hosts</em> en el equipo principal</strong></p>
<p><strong>/etc/hosts</strong></p>
<pre tabindex="0"><code>127.0.0.1       localhost
127.0.0.1       airspace.com  www.airspace.com
127.0.0.1       hugoflotts.com www.hugoflotts.com
127.0.0.1       jonathon.com www.jonathon.com
127.0.0.1       relojesvex.com www.relojesvex.com
</code></pre><p><strong>Comprobamos que funciona bien</strong></p>
<pre tabindex="0"><code>$ ping airspace.com
PING airspace.com (127.0.0.1) 56(84) bytes of data.
64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.032 ms
64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.053 ms
...
$ ping www.airspace.com
PING airspace.com (127.0.0.1) 56(84) bytes of data.
64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.049 ms
64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.043 ms
...

</code></pre><p><strong>Levantar máquina virtual y conectar por ssh</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ vagrant up

$ vagrant ssh
</code></pre></div><p>El directorio <strong>/vagrant</strong> de la máquina virutal mapea el directorio de nuestro vagrant en el host.</p>
<p><strong>Instalar apache</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt update
$ sudo apt install apache2
$ sudo systemctl  status apache2
● apache2.service - The Apache HTTP Server
     Loaded: loaded <span style="color:#ce5c00;font-weight:bold">(</span>/lib/systemd/system/apache2.service<span style="color:#000;font-weight:bold">;</span> enabled<span style="color:#000;font-weight:bold">;</span> vendor preset: enabled<span style="color:#ce5c00;font-weight:bold">)</span>
     Active: active <span style="color:#ce5c00;font-weight:bold">(</span>running<span style="color:#ce5c00;font-weight:bold">)</span> since Fri 2022-03-11 15:47:43 UTC<span style="color:#000;font-weight:bold">;</span> 29s ago
       Docs: https://httpd.apache.org/docs/2.4/
   Main PID: <span style="color:#0000cf;font-weight:bold">13490</span> <span style="color:#ce5c00;font-weight:bold">(</span>apache2<span style="color:#ce5c00;font-weight:bold">)</span>
      Tasks: <span style="color:#0000cf;font-weight:bold">55</span> <span style="color:#ce5c00;font-weight:bold">(</span>limit: 1071<span style="color:#ce5c00;font-weight:bold">)</span>
     Memory: 5.5M
     CGroup: /system.slice/apache2.service
             ├─13490 /usr/sbin/apache2 -k start
             ├─13491 /usr/sbin/apache2 -k start
             └─13492 /usr/sbin/apache2 -k start
</code></pre></div><p><strong>Preparo enlace en /var/www</strong></p>
<pre tabindex="0"><code>ln -s /vagrant/webs/relojesvex.com /var/www/relojesvex.com
</code></pre><p><strong>Configurar VirutalHosts</strong></p>
<pre tabindex="0"><code class="language-apache2" data-lang="apache2">&lt;VirtualHost *:80&gt;
	DocumentRoot /var/www/relojesvex.com
    ServerName relojesvex.com
    ServerAlias www.relojesvex.com
&lt;/VirtualHost&gt;
</code></pre><p>$ sudo systemctl reload apache2</p>
<p><strong>Comprobamos el funcionamiento</strong></p>
<p>Desde el host apuntamos con el navegador a las webs:</p>
<ul>
<li>http://localhost:8080</li>
<li><a href="http://relojesvex.com:8080">http://relojesvex.com:8080</a></li>
<li><a href="http://www.relojesvex.com:8080">http://www.relojesvex.com:8080</a></li>
</ul>

</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      
    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.11.2/dist/mermaid.min.js" integrity="sha384-m8Pdaep6Qk8sW3J6XhPOiwUww3maU9HxZTLvEfSEB4e1UVvTdHyfJsYmEfYqvwLC" crossorigin="anonymous"></script>



<style>
.markmap > svg {
  width: 100%;
  height: 300px;
}
</style>
<script>
window.markmap = {
  autoLoader: { manual: true },
};
</script>
<script src="https://cdn.jsdelivr.net/npm/markmap-autoloader"></script>


<script src='/recursos-daw/js/tabpane-persist.js'></script>




 












<script src="/recursos-daw/js/main.min.d89b9f38e2aa3a5216a1a07d13541127db0d326ce3bf3564c7aab2bf02cea962.js" integrity="sha256-2JufOOKqOlIWoaB9E1QRJ9sNMmzjvzVkx6qyvwLOqWI=" crossorigin="anonymous"></script>




  </body>
</html>
